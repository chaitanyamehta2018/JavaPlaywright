import com.microsoft.playwright.*;
import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.Test;

public class VerifyBrowserOpenTest {

    @Test
    public void testBrowserNavigation() throws InterruptedException { 
        try (Playwright playwright = Playwright.create()) {
            // ✅ Set Chrome executable path (Update as per your system)
            String chromePath = "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe";  

            BrowserType.LaunchOptions options = new BrowserType.LaunchOptions()
                .setExecutablePath(java.nio.file.Paths.get(chromePath))  // ✅ Use Chrome instead of Chromium
                .setHeadless(false);

            Browser browser = playwright.chromium().launch(options);
            BrowserContext context = browser.newContext();
            Page page = context.newPage();

            //Google page navigation.//
            page.navigate("https://www.google.com");

            System.out.println("Title: " + page.title());
            assertEquals("https://www.google.com/", page.url(), "URL did not match expected");            
            var searchbar = page.locator("//*[@id=\"APjFqb\"]");
            
            searchbar.fill("Jay Ganesh");
            
            searchbar.press("Enter");           
                       
            Thread.sleep(5000);
          
            page.close();
           
        }
    }
}
